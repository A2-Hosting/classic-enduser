<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  
  <link rel="shortcut icon" href="../../img/favicon.ico">
  <title>Configuring Thumbnail Creation - Omeka Classic User Manual</title>
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  
  <script>
    // Current page data
    var mkdocs_page_name = "Configuring Thumbnail Creation";
    var mkdocs_page_input_path = "Technical/ConfiguringThumbnailCreation.md";
    var mkdocs_page_url = "/Technical/ConfiguringThumbnailCreation/";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script> 
  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> Omeka Classic User Manual</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
	<ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Getting Started</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../GettingStarted/Site_Planning_Tips/">Site Planning Tips</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../GettingStarted/UsingOmeka/">Examples and Case Studies</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../GettingStarted/Project_Planning/">Project Planning</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../GettingStarted/Hosting_Suggestions/">Hosting Suggestions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../GettingStarted/Feature_List/">Feature List</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../GettingStarted/Accessibility_Statement/">Accessibility Statement</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../GettingStarted/Screencasts/">Screencasts</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../GettingStarted/Searching/">Searching</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Installing</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Installation/System_Requirements/">System Requirements</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Installation/Installation/">Installing</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Installation/Upgrading/">Upgrading</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Installation/Configuring_Language/">Configuring Language</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Content</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Content/Items/">Items</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Content/Files/">Files</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Content/Working_with_Dublin_Core/">Working with Dublin Core</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Content/Using_HTML_Editor-TinyMCE/">Using the HTML editor</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Content/Managing_Item_Types/">Item Types</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Content/Collections/">Collections</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Content/Tags/">Tags</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Content/Shortcodes/">Shortcodes</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Administration</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Adding_and_Managing_Plugins/">Working with Plugins</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/Plugin_Shortcodes/">Plugin Shortcodes</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Appearance/themes/">Themes</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Appearance/Navigation/">Navigation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Appearance/Appearance_Settings/">Appearance Settings</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Users/Users/">Users</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Settings/General_Settings/">General Settings</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Settings/Security_Settings/">Security Settings</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Settings/Search_Settings/">Search Settings</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Settings/Element_Sets/">Element Sets</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Settings/Item_Type_Elements/">Item Type Elements</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Settings/API_Settings/">API Settings</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Admin/Settings/ReCaptcha/">ReCaptcha</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Plugins</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/Coins/">Coins</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/CollectionTree/">Collection Tree</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/Commenting/">Commenting</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/Contribution/">Contribution</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/CSS_Editor/">CSS Editor</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/CSV_Import/">CSV Import</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/DerivativeImages/">Derivative Images</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/DocsViewer/">DocsViewer</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/Dropbox/">Dropbox</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/DublinCoreExtended/">Dublin Core Extended</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/Editorial/">Editorial</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/EmbedCodes/">Embed Codes</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/ExhibitBuilder/">Exhibit Builder</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/ExhibitImageAnnotation/">Exhibit Image Annotation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/Geolocation/">Geolocation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/GuestUser/">Guest User</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/ItemOrder/">Item Order</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/ItemRelations/">Item Relations</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/Library_of_Congress_Suggest/">Library of Congress Suggest</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/Ngram/">Ngram</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/OaipmhHarvester/">OAI-PMH Harvester</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/OaiPmhRepository/">OAI-PMH Repository</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/Omeka_API_Import/">Omeka API Import</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/PdfText/">PDF Text</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/Posters/">Posters</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/RecordRelations/">Record Relations</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/RedactElements/">Redact Elements</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/Reports/">Reports</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/Scripto/">Scripto</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/SearchByMetadata/">Search by Metadata</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/ShortcodeCarousel/">Shortcode Carousel</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/SimpleContactForm/">Simple Contact Form</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/SimplePages/">Simple Pages</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/SimpleVocab/">Simple Vocab</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/SocialBookmarking/">Social Bookmarking</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/Text_Analysis2/">Text Analysis</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/TextAnnotation/">Text Annotation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/UserProfiles/">User Profiles</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/VRACore/">VRA Core</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/ZoomIt/">Zoom It</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Plugins/ZoteroImport/">Zotero Import</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Troubleshooting</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Troubleshooting/Troubleshooting_Omeka/">Troubleshooting</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../Troubleshooting/Retrieving_Error_Messages/">Retrieving Error Messages</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Technical</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Adding_LightBox_to_Omeka/">Adding Lightbox to Omeka</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Backing_up_an_Omeka_Database/">Backing up an Omeka database</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Configuring Thumbnail Creation</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#choosing-a-strategy">Choosing a Strategy</a></li>
                
            
                <li class="toctree-l3"><a href="#changing-options">Changing Options</a></li>
                
                    <li><a class="toctree-l4" href="#gravity">Gravity</a></li>
                
                    <li><a class="toctree-l4" href="#page">Page</a></li>
                
                    <li><a class="toctree-l4" href="#version">Version</a></li>
                
                    <li><a class="toctree-l4" href="#auto-orient">Auto-Orient</a></li>
                
            
            </ul>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Moving_to_Another_Server/">Moving to Another Server</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Setting_Directory_Permissions/">Setting Directory Permissions</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Output_Formats/">Output Formats</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Contribute_Code_to_Omeka/">Contribute Code to Omeka</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Translate_Omeka/">Translate Omeka</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Contributed_API_clients/">Contributed API Clients</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Harvestable_Omeka_OAI_sets/">Harvestable Omeka OAI-PMH sets</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Legacy_Add-Ons/">Legacy Add-ons</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Adding_LightBox_to_Omeka/">Adding Lightbox to Omeka</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../Using_Omeka_with_Other_Tools_and_Platforms/">Using Omeka with other tools and platforms</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">Omeka Classic User Manual</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Technical &raquo;</li>
        
      
    
    <li>Configuring Thumbnail Creation</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h2 id="choosing-a-strategy">Choosing a Strategy</h2>
<p>Omeka uses the command-line tool <code>convert</code> from ImageMagick by default to create thumbnail images for uploaded files. Instead, you can choose to use the PECL ext/imagick extension (Omeka 2.2 and above) or the PHP GD extension (Omeka 2.3 and above).</p>
<p>The Imagick and GD options both avoid the need to call out to a command-line. PHP's GD extension is less advanced than ImageMagick but is more widely available.</p>
<p>To change how Omeka will generate thumbnails, set the option <code>fileDerivatives.strategy</code> in the application/config/config.ini file. Note: there may be a <code>fileDerivatives.strategy</code> line already in the config.ini file. If that line starts with a semicolon, it is a comment, not an actual setting. Either remove the semicolon and edit the line to use the desired strategy, or just add a new line.</p>
<p>To use the GD strategy, use the following line:</p>
<p><code>fileDerivatives.strategy = "Omeka_File_Derivative_Strategy_GD”</code></p>
<p>To use the IMagick strategy, use the following line:</p>
<p><code>fileDerivatives.strategy = "Omeka_File_Derivative_Strategy_Imagick”</code></p>
<p>The new strategy will only apply to files added to Omeka after the configuration is changed.</p>
<h2 id="changing-options">Changing Options</h2>
<p>In addition to the entire strategy used to create the thumbnails, more fine-grained options are also configurable in application/config/config.ini.</p>
<p>Options are set using lines starting with
<code>fileDerivatives.strategyOptions</code>.</p>
<h3 id="gravity">Gravity</h3>
<p>The <code>gravity</code> option lets administrators specify which region of an image to keep when creating a square thumbnail. The possible options are compass directions (north, south, east, west, northeast, northwest, southeast, and southwest), and the default, center.</p>
<p>Directions that contain "north" or "south" will use the topmost or bottom-most portion, respectively of portrait-oriented images. Directions containing "west" or "east" will use the leftmost or rightmost portion, respectively, of landscape-oriented images. A setting of "center" or no setting will use the center of the image.</p>
<p>For example, to always make square thumbnails using the topmost part of the uploaded image, set the following line:</p>
<p><code>fileDerivatives.strategyOptions.gravity = "north”</code></p>
<h3 id="page">Page</h3>
<p>The default external ImageMagick strategy can switch which "page" of an image to use when creating a thumbnail. The "page" could correspond with actual pages for documents like PDFs, or to frames of an animation or video. The page numbers start at 0, so 0 is the first page, 1 is the second page, and so on. By default, Omeka uses page zero, the first page.</p>
<p>For example, to use the second page when creating thumbnails, set the following line:</p>
<p><code>fileDerivatives.strategyOptions.page = 1</code></p>
<h3 id="version">Version</h3>
<p>When using the default external ImageMagick strategy, you can optionally inform Omeka which version of ImageMagick is being used. If it is recent enough, Omeka can switch to creating square thumbnails in a way that is more efficient and produces better results, particularly for images that are much longer in one dimension than the other. Running the command <code>convert -version</code> will indicate the version of ImageMagick that is installed.</p>
<p><code>fileDerivatives.strategyOptions.version = “6.9.0-0”</code></p>
<h3 id="auto-orient">Auto-Orient</h3>
<p><em>Requires Omeka 2.3.1 or newer</em></p>
<p>The default external ImageMagick strategy and the Imagick strategy both support a flag called <code>autoOrient</code>, which defaults to off. When turned on, Omeka will look for embedded orientation information in uploaded files, and rotate or transform the thumbnails it creates to account for that orientation.</p>
<p>A common use-case for this is images taken with mobile phone cameras, which often embed an orientation flag to allow computers to automatically rotate the image. Some image manipulation or preview software also will store rotations as only a change to the image's embedded rotation information. Turning <code>autoOrient</code> on allows Omeka to produce thumbnails in the expected orientation when these types of images are uploaded.</p>
<p><code>fileDerivatives.strategyOptions.autoOrient = true</code></p>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../Moving_to_Another_Server/" class="btn btn-neutral float-right" title="Moving to Another Server">Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../Backing_up_an_Omeka_Database/" class="btn btn-neutral" title="Backing up an Omeka database"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>
    
  </div>

  <div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../Backing_up_an_Omeka_Database/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../Moving_to_Another_Server/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>
    <script src="../../js/theme.js"></script>

</body>
</html>
